CREATE DATABASE `app` /*!40100 DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci */ /*!80016 DEFAULT ENCRYPTION='N' */;

CREATE TABLE `items` (
  `id` smallint DEFAULT NULL,
  `title` varchar(200) DEFAULT NULL,
  `text` text
)

DELIMITER $$
CREATE PROCEDURE `items_getDetails`(
	IN id SMALLINT
)
BEGIN	
    
	SELECT 
		items.id,
        items.title,
        items.text
    FROM items    
    where items.id=id;
    
END$$
DELIMITER ;


DELIMITER $$
CREATE PROCEDURE `items_getList`(
	IN pageSize INT,
    IN page INT
)
BEGIN	
    DECLARE startIndex INT DEFAULT (pageSize * (page - 1));      
      
	SELECT 
		items.id,
        items.title,
        substring(items.text,1,300) as text
    FROM items    
    limit startIndex, pageSize;
    
    select count(1) as itemCount from items;
    
END$$
DELIMITER ;


INSERT INTO `items` VALUES (1,'Lorem ipsum dolor sit amet, consec','Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed sagittis finibus nisi, quis efficitur leo pellentesque ut. Fusce et volutpat diam. Integer sit amet volutpat ligula, vitae maximus risus. Nam lobortis lacus a dolor rutrum elementum. Duis orci mauris, molestie ac laoreet at, fermentum quis eros. Aliquam massa leo, dictum blandit diam eget, euismod pulvinar leo. Duis ac ante orci. Proin non purus a nisl commodo finibus in eget sem. Sed blandit non tellus in laoreet. Maecenas consequat magna luctus sapien ultricies facilisis. Morbi maximus lacinia quam, at congue dui egestas vel. Aliquam vel ligula mattis, pulvinar velit at, sollicitudin nisi. Quisque porta velit condimentum molestie pellentesque.'),(2,'Pellentesque euismod iaculis magna','Pellentesque euismod iaculis magna non imperdiet. Ut venenatis fringilla ligula, et tempor mauris facilisis nec. Curabitur molestie, nisl at ornare pharetra, erat lacus finibus lorem, laoreet venenatis urna turpis a libero. Sed luctus odio ac ex maximus congue. Nulla facilisi. Curabitur non diam ut massa dapibus pellentesque sed non neque. Quisque suscipit odio lacus. Etiam id nunc finibus eros sagittis ornare rutrum eleifend ante. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Integer hendrerit porttitor nisl, et congue justo sagittis eu. Etiam at suscipit urna. Phasellus pellentesque tincidunt ipsum, hendrerit facilisis nibh pretium congue. Donec sit amet sollicitudin lectus.'),(3,'In libero ex, tincidunt sed egesta','In libero ex, tincidunt sed egestas eget, volutpat eget metus. In blandit justo eu lorem interdum aliquet. Nunc ultricies pretium libero, in auctor neque lobortis id. Integer ornare est felis, ac gravida risus sollicitudin et. Maecenas cursus dui vel nulla suscipit, a pellentesque felis auctor. Fusce et quam pulvinar, suscipit dolor vitae, ultricies turpis. Duis sed dapibus lorem, sed pharetra est. Suspendisse potenti. Nulla vehicula felis vitae ultrices dignissim. Integer rhoncus metus nulla. Suspendisse at lorem et neque efficitur rutrum non ut neque. Donec iaculis interdum lorem, eget pulvinar lacus efficitur vitae. In hac habitasse platea dictumst. Nunc id magna non nulla pellentesque dapibus ac vel eros.'),(4,'Nulla efficitur ipsum elementum ve','Nulla efficitur ipsum elementum velit sagittis tincidunt. Phasellus nulla orci, vestibulum eu eros id, vehicula interdum mi. Vestibulum erat lorem, fermentum in scelerisque non, congue ac sem. Etiam at dui lorem. Duis sagittis tellus nulla. Curabitur dapibus metus mauris. Aliquam mollis, lorem eget aliquet mollis, dolor turpis sodales metus, eget accumsan orci diam at massa. Vestibulum ornare est eu felis consequat aliquam. Duis purus arcu, pharetra nec suscipit at, lacinia in ligula. Nullam egestas diam risus, id vulputate mi sollicitudin vulputate. Etiam massa neque, euismod ac lobortis at, dictum ac mi. Vivamus laoreet faucibus metus, et fermentum magna dictum nec. Nullam id mollis enim. Fusce vehicula volutpat luctus. Sed malesuada tempus nulla in viverra. Aliquam faucibus metus ut condimentum rhoncus.'),(5,'Aenean sollicitudin dui et ultrici','Aenean sollicitudin dui et ultricies interdum. Fusce ac neque ac justo ultrices pulvinar. Nullam at tempus erat. Sed eget urna maximus, convallis est eu, maximus risus. Integer rhoncus, ligula non tempor posuere, felis nisi ultrices tortor, lobortis pretium ex est nec mi. Nam ut dolor eget nulla tempor fermentum quis ac nibh. Integer tempus quis nisi et mollis. Nullam iaculis mi sapien, faucibus tincidunt nulla ultricies vitae. Praesent mollis nibh elit, eu bibendum est fermentum eget. Suspendisse volutpat, libero in convallis posuere, dui augue sagittis ante, vitae rutrum velit dolor at ligula. Quisque dapibus sem eu ex sollicitudin, finibus euismod nisl molestie. Quisque fringilla lacus et sem lobortis dignissim ac id augue. Curabitur quis iaculis quam, ac ultricies nibh. In faucibus finibus purus, sit amet imperdiet diam varius non. Nam ut neque sed erat gravida facilisis.'),(6,'Vestibulum non porta nibh, in pell','Vestibulum non porta nibh, in pellentesque dui. Aliquam eu dolor id arcu imperdiet convallis id et ligula. Duis leo justo, dictum lacinia tellus et, mattis malesuada mi. Donec lectus nulla, gravida nec scelerisque sit amet, tempor a urna. Pellentesque ornare justo sit amet leo venenatis, nec pretium mauris pellentesque. Phasellus varius, quam ut blandit gravida, ligula tortor pellentesque orci, sed faucibus nunc tortor sed arcu. Donec sagittis nulla mi, eu condimentum erat commodo eget. Sed facilisis sagittis mi, in rutrum mi posuere vitae. Integer interdum enim vel mi posuere, sit amet rhoncus ligula pulvinar. Etiam aliquam turpis vitae justo egestas, ac scelerisque urna gravida. Praesent congue est cursus, egestas ante sit amet, faucibus quam. Proin at ipsum at metus semper viverra. Duis porttitor turpis non tellus efficitur, iaculis rhoncus leo suscipit. Aliquam blandit a elit ac laoreet. Etiam vitae tortor quam. Ut vitae cursus mi.'),(7,'Quisque nibh nulla, interdum non i','Quisque nibh nulla, interdum non ipsum et, porttitor suscipit ex. Maecenas erat neque, varius euismod neque non, vehicula sagittis turpis. Nunc ac ullamcorper magna. Ut eget quam nulla. Sed ac dolor ut nulla interdum condimentum. Cras magna erat, sagittis et ante sed, pellentesque rutrum ante. Cras non dictum nisl, a malesuada lectus. Nam ultricies, velit ut vulputate dapibus, odio diam accumsan risus, quis pulvinar ipsum ante sed justo. Donec viverra, purus hendrerit auctor lobortis, leo nisi congue leo, non gravida velit lacus in velit. Etiam gravida molestie venenatis. Maecenas eu lobortis eros. Proin a sapien vitae nisi lacinia placerat.'),(8,'In eu tincidunt turpis. Donec nec ','In eu tincidunt turpis. Donec nec justo a dui faucibus efficitur. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia Curae; Proin eget nunc at ex tincidunt accumsan eget non dolor. Vestibulum nulla urna, mollis faucibus porta dictum, faucibus lacinia velit. Ut finibus porta eleifend. Duis a lectus quis tellus finibus pharetra ac vel purus. Praesent porttitor vel felis ut finibus. Quisque blandit, nisi sed facilisis rutrum, enim dolor varius eros, id fringilla lectus quam sed ex. Phasellus feugiat lacus massa, id finibus lectus imperdiet id. Sed ante tellus, elementum ac magna gravida, euismod ultricies quam. Suspendisse non tellus a felis lacinia sodales in non justo. Fusce lacinia a leo non efficitur. Duis sed nisl cursus nisl commodo auctor. Mauris pellentesque dolor at lobortis vestibulum.'),(9,'Ut sed sodales tellus, et sollicit','Ut sed sodales tellus, et sollicitudin magna. Maecenas ut orci in ipsum facilisis faucibus. Pellentesque a lorem finibus, imperdiet risus eu, suscipit lorem. In dapibus, arcu quis scelerisque dignissim, lacus ex laoreet libero, vitae aliquet sem velit eget magna. Phasellus sed libero in massa aliquam viverra. Cras diam odio, convallis id posuere quis, maximus eget augue. Sed ornare iaculis mi vitae facilisis. Nam volutpat lacus a dui pretium pretium. Mauris imperdiet interdum lacus, eu varius augue scelerisque porttitor. Praesent porttitor tincidunt mi.'),(10,'Vestibulum tempor interdum neque e','Vestibulum tempor interdum neque eget mattis. Proin porta neque odio, condimentum eleifend velit tincidunt sed. Morbi bibendum venenatis ligula, vel blandit risus malesuada quis. Morbi luctus dictum lectus, ut molestie mauris. Mauris eu enim molestie, maximus mi eu, auctor enim. In suscipit dui sit amet tellus maximus, varius ultrices ante vestibulum. In sed quam ut metus lacinia cursus. Maecenas tincidunt congue convallis. Maecenas sit amet elementum leo, eget gravida risus. Morbi tempor, arcu eget venenatis vehicula, lacus erat tincidunt massa, vel lacinia magna dui eu dolor. Nam non elit eget mauris commodo volutpat. Pellentesque tempor sed augue sit amet volutpat. Integer congue quam a mauris fringilla posuere ut ac massa.'),(11,'Proin ultrices erat in lectus vari','Proin ultrices erat in lectus varius condimentum. Mauris a nisl ante. Nulla consequat, ex vel viverra imperdiet, dolor purus molestie lacus, ac eleifend nibh sapien eu nulla. Vivamus ullamcorper dui in sem efficitur malesuada. Vestibulum posuere, ipsum et sollicitudin eleifend, justo ipsum sollicitudin sapien, quis euismod ipsum ligula ac metus. Pellentesque scelerisque, risus sed facilisis lacinia, purus sapien facilisis velit, nec egestas ligula dolor ullamcorper nisl. Cras et ante at neque vulputate convallis. Ut pulvinar placerat metus vel lacinia. Donec et efficitur sapien. Sed est urna, laoreet et enim et, suscipit faucibus purus. Donec accumsan id sapien ut varius.'),(12,'Class aptent taciti sociosqu ad li','Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Duis justo ligula, tincidunt vel metus ac, lobortis iaculis neque. Aenean maximus posuere mi, ac mollis nisi lacinia in. Fusce semper quam dui, ut aliquam erat molestie eu. Aenean porta velit nec augue tincidunt, ut laoreet libero tincidunt. Ut aliquet euismod ex at imperdiet. Nunc eu pharetra metus. Nullam dictum, lorem a lobortis consequat, quam turpis rutrum velit, sit amet molestie nulla magna eu leo. Nam iaculis condimentum blandit. Nulla nec nisl felis. Vivamus blandit quam ultricies ipsum convallis tempus. Phasellus et nulla sagittis, lobortis tortor ut, volutpat neque. Nam nulla erat, porttitor eu ligula a, porta accumsan nunc. Phasellus dictum lorem turpis, quis suscipit est scelerisque blandit. Nulla suscipit consectetur efficitur. Nam velit nibh, viverra nec nunc sit amet, lacinia mattis ex.'),(13,'Nam in massa vulputate, pretium ma','Nam in massa vulputate, pretium magna et, pharetra sem. Pellentesque non nulla finibus, tempus nunc sed, laoreet augue. Pellentesque non euismod purus. Nullam sed nibh dui. Suspendisse eros nisi, faucibus et sapien sit amet, pellentesque luctus metus. Etiam hendrerit ante sem. Duis sem nisl, eleifend ut sollicitudin a, cursus ac erat. Nullam vestibulum enim augue, vel maximus enim pellentesque ac. Sed tincidunt, nibh a consequat placerat, dolor nibh tincidunt felis, vitae pellentesque magna neque nec urna. Curabitur condimentum mi vel augue tincidunt, vel volutpat justo lobortis.'),(14,'Ut feugiat massa ac enim sollicitu','Ut feugiat massa ac enim sollicitudin malesuada. Morbi posuere et magna quis varius. Vivamus a tempor erat. Mauris porta fringilla viverra. Morbi luctus posuere ultrices. Suspendisse eget ipsum gravida odio pulvinar posuere. Donec sed tempus turpis. Nunc sapien magna, vehicula vitae tempor sit amet, semper eget lectus. Aliquam ipsum turpis, lacinia vitae justo non, interdum tempus arcu. Sed molestie molestie sem ut mattis. Aenean blandit ante sit amet libero tincidunt congue. Maecenas ultricies lacinia lectus, sed eleifend quam egestas nec. Pellentesque vitae velit nulla. Cras iaculis velit sed imperdiet finibus. Sed id cursus mi, id fringilla elit.'),(15,'In eget dolor est. Class aptent ta','In eget dolor est. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Cras interdum tortor eu lorem iaculis fringilla. Curabitur sem leo, tempus in nibh et, viverra euismod augue. Maecenas at quam in mauris accumsan tempor eu non est. Proin eleifend a quam non dictum. Donec gravida, orci nec congue tempus, quam justo facilisis ligula, sit amet commodo erat nisi a purus. Aliquam aliquet placerat magna, id semper lorem mollis sollicitudin. Suspendisse fringilla egestas est, sit amet molestie enim dictum sed. In metus augue, ultricies vitae massa et, imperdiet consequat libero. Morbi arcu eros, aliquam eu massa sed, consequat lacinia nibh. Etiam mi turpis, tempus nec odio et, tristique rhoncus elit. Vestibulum in condimentum sem.'),(16,'Donec vitae tincidunt purus. Nunc ','Donec vitae tincidunt purus. Nunc cursus lorem in urna venenatis sodales. Vestibulum non ligula sapien. Suspendisse ultrices quis dui et elementum. Maecenas ultricies neque ipsum, et egestas sem eleifend at. In commodo ultrices nisi non vulputate. Nam vel ultrices orci. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Nullam eget elit at augue efficitur consequat. Vestibulum at bibendum eros, at commodo justo. In hendrerit tristique tellus et elementum.'),(17,'Vivamus justo metus, porta tincidu','Vivamus justo metus, porta tincidunt arcu quis, faucibus imperdiet nisl. Sed magna massa, consequat eget ipsum eu, pretium fringilla velit. Curabitur auctor vel sem id dignissim. Integer dictum sed mi in blandit. Integer lectus quam, pellentesque id ornare vitae, ultrices ut ipsum. Morbi ut porttitor justo. Suspendisse est quam, ultrices nec vestibulum quis, consectetur et mauris. Fusce in libero eget felis maximus lobortis sit amet ut metus.'),(18,'Ut et ullamcorper leo, sed digniss','Ut et ullamcorper leo, sed dignissim urna. Nam ipsum tortor, pharetra a augue non, commodo porta sapien. Etiam luctus ultricies augue, et rhoncus tellus placerat in. Duis mauris nibh, aliquet id felis sit amet, luctus scelerisque urna. Praesent id nisi quis nibh malesuada fermentum eu ut diam. Morbi in eros quam. Morbi non pretium diam. Duis eu varius lacus. Cras sollicitudin augue non ante rhoncus vestibulum. Aenean ac vestibulum diam. Nam volutpat nisi nec dolor condimentum, vitae vulputate felis fermentum. Donec lobortis sem sed luctus ullamcorper. Curabitur mauris libero, dapibus faucibus venenatis non, venenatis nec felis. Pellentesque sagittis nunc ut tincidunt laoreet.'),(19,'Cras id consectetur dui. Cras in n','Cras id consectetur dui. Cras in nulla ut orci congue fringilla sit amet consectetur ex. Cras eleifend est tellus, nec pulvinar sem faucibus vitae. Etiam fringilla orci risus, ut ultrices ante venenatis quis. Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. In dapibus hendrerit nisl. Nullam id nunc ex. Cras vitae orci vel risus imperdiet aliquam. Quisque eleifend faucibus lectus, ut sagittis quam gravida non. Sed commodo commodo aliquet. Proin et auctor magna, nec elementum ante. Vivamus scelerisque dui dapibus lectus convallis ultricies. Vestibulum ultrices facilisis orci eget hendrerit. Integer elementum ac leo et mollis. Mauris consequat mi a est euismod, consequat varius lectus aliquam.'),(20,'Integer metus arcu, porttitor vel ','Integer metus arcu, porttitor vel tellus ac, vehicula bibendum odio. Quisque gravida fermentum purus non suscipit. Aenean viverra luctus congue. Sed ullamcorper sem libero. Etiam tincidunt mi eu sem egestas tempus. Aenean ultricies, risus ut malesuada malesuada, ante ante rhoncus purus, at blandit enim eros laoreet diam. Lorem ipsum dolor sit amet, consectetur adipiscing elit. In interdum libero et metus pharetra molestie. Pellentesque sagittis mi nisl, at interdum mauris hendrerit ut.');

ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'aaaaaa'